# Введение

Тема: Разработка программно-аппаратных решений внутритрубного диагностического комплекса

Актуальность: Данная тема является актуальной, так как магистральные трубопроводы (МТ) являются труднодоступными подземными сооружениями большой протяженности, осуществляющие транспортировку нефти, нефтепродуктов, газов и прочих веществ с производства или места добычи к конечной точке применения. Для безопасности их эксплуатации, а, следовательно, и снижения затрат, требуется реализация комплекса мер по усовершенствованию технического обслуживания и ремонта МТ, который основан на проведении периодической диагностики МТ [1]. 

Транспорт внутритрубной диагностики на данный момент является наиболее экономичным видом своевременного выявления дефектов магистрального трубопровода. Наиболее существенную значимость этот вопрос имеет для трубопроводов, по которым транспортируются углеводороды, такие как: газ, нефть, конденсат. Так как данное углеводородное сырье имеет высокую стоимость, энергоемкость и при утечке продукта в окружающую среду из-за нарушения герметичности стенок труб может нанести значительный экологический ущерб [2].

Подземные трубопроводы, работающие в нормальных условиях и режимах, сохраняются, примерно, несколько десятков лет. Большое количество дефектов в трубопроводах появляются, в основном, в результате коррозионных и механических повреждений, определение места и характера которых связаны с рядом трудностей и большими материальными затратами. В связи с этим актуальностью данной темы является своевременное распознавание дефектов системы, повышение эффективности ремонтно-строительных работ, а также повышения производительности труда и снижение экономических затрат.

Техническое применение: заключается в долгосрочном прогнозирование работы объектов, своевременном обнаружении дефектов и определение по результатам прогноза наиболее эффективных способов использования располагаемых материально-технических ресурсов [3].

Объект исследования: Комплекс внутритрубной диагностики.

Предмет исследования: Программно-аппаратная часть комплекса внутритрубной диагностики.

Цель работы. Создание программно-аппаратной части комплекса внутритрубной диагностики.

Задачи исследования. Для достижения данной цели необходимо решить следующие задачи: 

-	oбзор вариантов исполнения программной и аппаратной части комплекса внутритрубной диагностики;
- исследование перечня необходимых компонентов комплекса ВД;	
- разработка общей схемы комплекса ВД;
- обоснование выбора RaspBerry Pi и контроллера для реализации комплекса ВД;
- исследование способа подключения, организации движения и получение данных с комплекса ВД.
-	разработка электрической структурной схемы комплекса ВД;
-	разработка электрической функциональной схемы комплекса ВД;
-	разработка принципиальной схемы комплекса ВД;
-	разработка схемы алгоритма RaspBerry Pi  и контроллера комплекса ВД;
-	разработка прошивки RaspBerry Pi  и контроллера комплекса ВД;
 
# Техническое задание
## 1 Общие сведения
### 1.1 Полное наименование системы и ее условное обозначение

Внутритрубный диагностический комплекс.
Условное обозначение: ВДК.

### 1.2 Наименование разработчика системы и реквизиты заказчика
Заказчик – кафедра ИТАС ПНИПУ.
Разработчик – студент группы ЭВТ-17-1б Расселл Александр Норман Нил.

### 1.3 Основания для разработки АС

Работа по разработке программно-аппаратных решений внутритрубного диагностического комплекса.


1.4 Плановые сроки начала и окончания работы по созданию системы
- начало работ по созданию системы – зима 2021;
- окончание работ по созданию системы – конец весны 2021.
1.5 Источник финансирования работ по созданию АС
Средства заказчика.
1.6 Порядок оформления и предъявления заказчику результатов работ по созданию системы:
К результатам труда разработчика относится:
•	оригинальное аппаратное обеспечение;
•	оригинальное программное обеспечение;
•	уникальные структуры данных;
•	типовые проектные решения и особенности построения распределенной системы;
•	проектная и рабочая документация.
 
2 Назначение и цели создания системы
2.1 Назначение системы
Разработка универсального программно-аппаратного решения внутритрубного диагностического комплекса предназначена для автоматизации выявления дефектов внутри трубопроводов, с целью выявления дефектов на ранних стадиях, безопасной эксплуатации и снижения затрат на ремонт трубопроводов.
 
### 2.2 Цели создания системы.

Целью создания системы является повышение эффективности ремонтно-строительных работ;

// cкорее всего создание демонстратора технологии.

•	снижение экономических затрат на выявление дефектов трубопроводов;
•	повышение производительности труда;
•	автоматизация распознавания дефектов трубопроводов;
•	минимизирование рисков.
 
## 3 Характеристика объекта автоматизации

3.1 Краткие сведения об объекте автоматизации
Объектом автоматизации являются внутритрубный 

// Объект автоматизации всегда процесс!

диагностический комплекс, предназначенный для выявления внутритрубных дефектов. Данный комплекс позволит обнаружить внутритрубные дефекты на ранних стадиях, а также посторонние объекты в трубопроводах, устранения которых обеспечит безопасную эксплуатацию, что приведёт к снижению затрат на ремонт.
3.2 Сведения об условия эксплуатации объекта автоматизации
ВДК используется операторами газовых и нефтяных компаний.
Функционирование системы должно происходить в требуемых условиях:
- элементы трубопроводов не должны препятствовать прохождению ВДК;
- при подготовке трубопроводов к внутритрубной диагностике необходимо провести организационные и технические мероприятия, обеспечивающие загрузку и извлечение ВДК, его безопасное перемещение внутри трубы и получение наиболее достоверных данных о техническом состоянии магистральных трубопроводов;
- трубопроводы, предоставленные к внутритрубному диагностированию, должны отвечать требования соответствующих документов.
 
## 4 Требования к системе

## 4.1 Требования к системе в целом

В общем случае ВДК представляет собой программно-аппаратный комплекс, который должен обеспечивать внутритрубную диагностику трубопроводов, позволяющий выявлять дефекты на ранних стадиях, уменьшить риск аварийных ситуаций и повысить производительность работы и срок службы трубопроводов. 

### 4.1.1 Требования к структуре и функционированию системы

ВДК должен включать в себя следующие подсистемы:
-	подсистема сбора информации;
-	подсистема управления двигателями;
-	подсистема контроля положения робота в пространстве.

// Есть подозрение, что структура ТЗ по ГОСТ-34 несколько иная.

1	Подсистема сбора информации:
•	сбор информации с датчиков для распознавания внутритрубных дефектов.
2	Подсистема управления двигателями:
•	управление двигателями комплекса.
3	Подсистема контроля положения робота в пространстве:
•	распознавание координат положения робота в пространстве.
4.1.2 Требования к средствам и способам связи для информационного обмена между компонентами системы
Для информационного обмена между компонентами комплекса должна быть организована связь. 

// какая?

4.1.3 Требования по диагностированию системы
Диагностика и профилактика технических средств, производится раз в месяц. Проверка целостности данных и нарушений проводится по мере необходимости. Проверка программного и аппаратного обеспечения проводится по мере необходимости.

// откуда такие сроки?

4.1.4 Перспективы системы, модернизация системы
Модернизация системы может происходить в двух направлениях: модернизация программного обеспечения и модернизация аппаратного обеспечения комплекса.
•	При модернизации программного обеспечения могут вноситься изменения или осуществляться дополнения в необходимые для функционирования программной системы (например, при введении новой задачи), а также могут обновляться до актуальной версий, программные средства.
•	Модернизация аппаратного обеспечения комплекса должна происходить путем приобретения новых или модернизации старых аппаратных средств.

4.1.5 Требования к надежности комплекса
Необходимо, чтобы система обладала устойчивостью к отказам оборудования и программных систем, а также электропитания. Для надежной работы комплекса необходимы высоконадежные аппаратные и программные системы. Требования надежности должны быть регламентированы для следующих аварийных ситуаций:
•	выход из строя аппаратных средств системы;
•	выход из строя программных средств системы;
•	неверные действия персонала компании;
•	пожар, взрыв и т.п.

// есть мнение, что взрыв на газопроводе - так себе ситуация. 
// попробуйте писать про модель-демонстратор, а не про самого робота.

Методы оценки и контроля показателей надежности на разных стадиях создания системы должны отвечать следующим особенностям:
•	многофункциональность;
•	сложные формы взаимосвязи систем комплекса;
•	существенная роль временных соотношений отказов отдельных систем комплекса;
•	разнообразные законы распределения среднего времени безотказной работы и восстановления.
4.2 Требования к задачам, выполняемым системой
4.2.1 Перечень функций, подлежащих автоматизации:
1.  Подсистема сбора информации получает информацию из внешней среды при помощи датчиков. Выявляет дефекты и препятствия такие как повороты, трещины, засоры трубопровода, а также посторонние объекты.
2. Подсистема контроля положения робота в пространстве при помощи датчиков, позволяет получить спектр данных, указывающих координаты расположения робота в пространстве, а также позволяет оценить пройденный путь.
4.3 Требования к видам обеспечения
4.3.1 Требования к информационному обеспечению

// посмотрите в словаре что такое какое обеспечение.

Существуют несколько типов программных средств, используемых для разработки ВДК: 
1. Используемая платформа; 
2. Используемые языки программирования; 
3. Дополнительные используемые программные комплексы для разработки ВДК. 
В настоящее время существует три основные платформы: 
- Windows;  
- Linux;  
- MacOS.
При разработке ВДК также используются и дополнительные программные продукты: 
1. Среда разработки; 
2. Графические и математические программы.
В состав информационного обеспечения системы входят входные и выходные данные датчиков.
В качестве входной информации выступают данные, приходящие на датчики.
В качестве выходной информации выступают:
- Положение робота в пространстве;
- Пройденный путь робота внутри магистральных трубопроводов;
- Наличие дефектов и их виды.
4.3.2 Требования к лингвистическому обеспечению
- Шрифт ввода-вывода данных – кириллица;
- Пользовательский интерфейс ПО должен соответствовать следующим требованиям:
1. Эффективные интерфейсы должны быть очевидными и внушать своему пользователю чувство контроля. Необходимо, чтобы пользователь мог одним взглядом окинуть весь спектр своих возможностей, понять, как достичь своих целей и выполнить работу.
2. Эффективные интерфейсы не должны беспокоить пользователя внутренним взаимодействием с системой. Необходимо бережное и непрерывное сохранение работы, с предоставление пользователю возможности своевременной отменой любых действий.
4.3.3 Требования к программному обеспечению
На рабочем месте оператора необходимо установить:
- Операционная система Microsoft Windows 7/10, Linux, MacOS;
- ПО для работы с ВДК.
5 Состав и содержание работ по созданию системы
Разработка программно-аппаратных решений ВДК предполагается по укрупненному календарному плану, приведенному в таблице 1.
Таблица 1 – Календарный план по разработке ПА решений ВДК
Наименование стадий и этапов создания системы	Сроки выполнения работ	Результаты работ
1 Эскизный проект. Разработка предварительных проектных решений по комплексу ВД и его частям.	20.02.2021 – 20.03.2021	Описание необходимых компонент, подсистем, функций комплекса, и их целей. Разработка документов 1-3 согласно разделу 8.
2 Технический проект.
Разработка проектных решений по комплексу ВД и его частям. Разработка необходимой документации и её частей.	21.03.2021 – 28.05.2021	Описание ПО, прошивки, подсистем сбора информации. Разработка документов 4-9 согласно разделу 8.
3 Рабочая документация.
3.1 Разработка рабочей документации на систему и ее части.
3.2 Разработка или адаптация программ	29.05.2021– 14.06.2021	Готовая версия ВДК.
Документация на ВДК.
Руководство пользователя.
4 Ввод в действие.
4.1 Проведение предварительных испытаний ВДК.	15.06.2021 – 31.06.2021	Протокол испытаний.
Устранение неполадок.
Внесение изменений в документацию.

 
6 Порядок контроля и приемки системы
Установить контроль и приемку результатов работ на каждой стадии создания системы в соответствии с разделом 5.
На стадии 3 принимается готовая версия программного продукта (модель). Остальные результаты работы передаются в виде документов (согласно табл. 1).
Приемка этапа заключается в рассмотрении и оценке проведенного объема работ и предъявленной технической документации в соответствии с требованиями настоящего технического задания.
Ответственность за организацию и проведение приемки системы должен нести заказчик. Приемка системы должна производиться по завершению приемки всех задач системы. При этом необходимо предоставить обеспечение материальной частью (технические средства), проектной документацией и специально выделенным персоналом.
Заказчик должен предъявлять систему ведомственной приемочной комиссии, при этом он обязан обеспечить нормальные условия работы данной комиссии в соответствии с принятой программной приемки.
Завершающим этапом при приемке системы должно быть составление акта приемки.
 
7 Требования к составу и содержанию работ по подготовке объекта автоматизации к вводу системы в действие
Для обеспечения готовности объекта к вводу системы в действие провести комплекс мероприятий:
•	приобрести компоненты аппаратных частей, программного обеспечения, заключить договора на их лицензионное использование;
•	завершить работы по установке технических средств;
•	провести обучение пользователей.
8 Требования к документированию.
Проектная документация должна быть разработана в соответствии с ГОСТ 34.201-89 и ГОСТ ЕСПД.
Отчетные материалы должны включать в себя текстовые материалы (представленные в виде бумажной копии и на цифровом носителе в формате MS Word) и графические материалы.
Предоставить документы:
1. Описание автоматизируемых функций;
2. Схема функциональной структуры автоматизируемой деятельности;
4. Описание информационного обеспечения;
5. Описание программного обеспечения;
6. Руководство пользователя ВДК;
7. Тесты работы ВДК.

 
Список использованных источников

1	Петров М.С. Информационная система роботизированной диагностики состояния магистрального трубопровода на основе ультразвуковых, магнитометрических и оптических сенсоров. – Пермь, 2020. – 48 с.
2	Бондаренко П.М. Новые методы и средства контроля состояния подземных труб. - М.: Машиностроение, 1991. – 149 с.
3	Внутритрубная диагностика // transneft.ru URL: https://diascan.transneft.ru/klientam/vnytritrybnaya-diagnostika/ (дата обращения: 10.03.2021).
